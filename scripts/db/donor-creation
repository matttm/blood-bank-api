
CREATE TABLE BLOOD_TYPE (
    BLOOD_TYPE_ID varchar(3) NOT NULL,
    BLOOD_TYPE_DESC varchar(1024),
    PRIMARY KEY (BLOOD_TYPE_ID)
);

CREATE TABLE TRANSACTION_TYPE (
    TRANSACTION_TYPE_ID varchar(3) NOT NULL,
    TRANSACTION_TYPE_DESC varchar(1024),
    PRIMARY KEY (TRANSACTION_TYPE_ID)
);

CREATE TABLE DONOR (
    DONOR_ID int NOT NULL AUTO_INCREMENT,
    FIRST_NAME varchar(256) NOT NULL,
    LAST_NAME varchar(256) NOT NULL,
    BLOOD_TYPE varchar(3) NOT NULL,
    PRIMARY KEY (DONOR_ID),
    FOREIGN KEY (BLOOD_TYPE) REFERENCES BLOOD_TYPE(BLOOD_TYPE_ID)
);

CREATE TABLE TRANSACTION (
    TRANSACTION_ID int NOT NULL AUTO_INCREMENT,
    TRANSACTION_TYPE varchar(3) NOT NULL,
    PATIENT_ID int NOT NULL,
    PRIMARY KEY (TRANSACTION_ID),
    FOREIGN KEY (PATIENT_ID) REFERENCES DONOR(DONOR_ID),
    FOREIGN KEY (TRANSACTION_TYPE) REFERENCES TRANSACTION_TYPE(TRANSACTION_TYPE_ID)
);

INSERT INTO blood_bank_db.BLOOD_TYPE
(BLOOD_TYPE_ID, BLOOD_TYPE_DESC)
VALUES
('A', NULL),
('B', NULL),
('AB', NULL),
('O', NULL);

INSERT INTO blood_bank_db.TRANSACTION_TYPE
(TRANSACTION_TYPE_ID, TRANSACTION_TYPE_DESC)
VALUES
('D', 'Donation'),
('T', 'Transfusion');
