
CREATE TABLE BLOOD_TYPE (
    BLOOD_TYPE_ID varchar(3) NOT NULL,
    BLOOD_TYPE_DESC varchar(1024),
    PRIMARY KEY (BLOOD_TYPE_ID)
);

CREATE TABLE FLUX_TYPE (
    FLUX_TYPE_ID varchar(3) NOT NULL,
    FLUX_TYPE_DESC varchar(1024),
    PRIMARY KEY (FLUX_TYPE_ID)
);

CREATE TABLE DONOR (
    DONOR_ID int NOT NULL AUTO_INCREMENT,
    FIRST_NAME varchar(256) NOT NULL,
    LAST_NAME varchar(256) NOT NULL,
    BLOOD_TYPE varchar(3) NOT NULL,
    PRIMARY KEY (DONOR_ID),
    FOREIGN KEY (BLOOD_TYPE) REFERENCES BLOOD_TYPE(BLOOD_TYPE_ID)
);

CREATE TABLE FLUX (
    FLUX_ID int NOT NULL AUTO_INCREMENT,
    FLUX_TYPE varchar(3) NOT NULL,
    PATIENT_ID int NOT NULL,
    PRIMARY KEY (FLUX_ID),
    FOREIGN KEY (PATIENT_ID) REFERENCES DONOR(DONOR_ID),
    FOREIGN KEY (FLUX_TYPE) REFERENCES FLUX_TYPE(FLUX_TYPE_ID)
);

INSERT INTO blood_bank_db.BLOOD_TYPE
(BLOOD_TYPE_ID, BLOOD_TYPE_DESC)
VALUES
('A', NULL),
('B', NULL),
('AB', NULL),
('O', NULL);

INSERT INTO blood_bank_db.FLUX_TYPE
(FLUX_TYPE_ID, FLUX_TYPE_DESC)
VALUES
('D', 'Donation'),
('T', 'Transfusion');
